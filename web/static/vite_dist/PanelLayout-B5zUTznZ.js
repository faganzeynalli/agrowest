import{t as w,_ as i,u as k,m as S,v as T,w as $}from"./icons-Be1GHOkw.js";import{u as A}from"./useOptionalStorage-BGa7EZRL.js";import{h as N,j as U}from"./usePlayerStore-B4PGhBhy.js";import{r as E,p as v,c as b,d as M,E as C,s as I,q as P,b as d,o as u,e as a,f as g,t as n,u as o,g as c,h as m,G as f,z as B,F as D}from"./vue-Cts3TEHg.js";const L=N(()=>{const h=document.documentElement,t=E(null);v(()=>{t.value=h.getAttribute("data-bs-theme")});const r=A("theme",null),p=()=>r.value?r.value:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",e=l=>{h.setAttribute("data-bs-theme",l),t.value=l,r.value=l},s=()=>{const l=p();e(l==="light"?"dark":"light")},y=b(()=>t.value==="dark"),_=b(()=>t.value==="light");return{currentTheme:t,isDark:y,isLight:_,setTheme:e,toggleTheme:s}}),V={class:"visually-hidden-focusable",href:"#content"},O={class:"navbar bg-primary-dark shadow-sm fixed-top"},z=["aria-label"],F=["href"],G={key:0},j={class:"dropdown ms-3 d-inline-flex align-items-center"},q={class:"me-2"},x=["aria-label"],H={class:"dropdown-menu dropdown-menu-end"},J={key:0},K=["href"],Q=["href"],R=["href"],W=["aria-label"],X={id:"main"},Y={class:"container"},Z={id:"footer"},oe=M({__name:"PanelLayout",props:{instanceName:{},userDisplayName:{},homeUrl:{},profileUrl:{},adminUrl:{},logoutUrl:{},showAdmin:{type:Boolean},version:{},platform:{}},setup(h){const t=C(),r=()=>{t.sidebar?document.body.classList.add("has-sidebar"):document.body.classList.remove("has-sidebar")},{toggleTheme:p}=L();return I(()=>t.sidebar,r,{immediate:!0}),U("global"),v(()=>{P(()=>{document.dispatchEvent(new CustomEvent("vue-ready"))})}),(e,s)=>(u(),d(D,null,[a("a",V,n(e.$gettext("Skip to main content")),1),a("header",O,[o(t).sidebar?(u(),d("button",{key:0,id:"navbar-toggle","data-bs-toggle":"offcanvas","data-bs-target":"#sidebar","aria-controls":"sidebar","aria-expanded":"false","aria-label":e.$gettext("Toggle Sidebar"),class:"navbar-toggler d-inline-flex d-lg-none me-3"},[c(i,{icon:o(w),class:"lg"},null,8,["icon"])],8,z)):g("",!0),a("a",{class:"navbar-brand ms-0 me-auto",href:e.homeUrl},[s[0]||(s[0]=m(" Aplus")),s[1]||(s[1]=a("strong",null," Stream",-1)),e.instanceName?(u(),d("small",G,n(e.instanceName),1)):g("",!0)],8,F),s[3]||(s[3]=a("div",{id:"radio-player-controls"},null,-1)),a("div",j,[a("div",q,n(e.userDisplayName),1),a("button",{"aria-expanded":"false","aria-haspopup":"true",class:"navbar-toggler","aria-label":e.$gettext("Toggle Menu"),"data-bs-toggle":"dropdown",type:"button"},[c(i,{icon:o(k),class:"lg"},null,8,["icon"])],8,x),a("ul",H,[s[2]||(s[2]=a("li",{class:"dropdown-divider"}," Â  ",-1)),e.showAdmin?(u(),d("li",J,[a("a",{class:"dropdown-item",href:e.adminUrl},[c(i,{icon:o(S)},null,8,["icon"]),m(" "+n(e.$gettext("System Administration")),1)],8,K)])):g("",!0),a("li",null,[a("a",{class:"dropdown-item",href:e.profileUrl},[c(i,{icon:o(T)},null,8,["icon"]),m(" "+n(e.$gettext("My Account")),1)],8,Q)]),a("li",null,[a("a",{class:"dropdown-item",href:e.logoutUrl},[c(i,{icon:o($)},null,8,["icon"]),m(" "+n(e.$gettext("Sign Out")),1)],8,R)])])])]),o(t).sidebar?(u(),d("nav",{key:0,id:"sidebar",class:"navdrawer offcanvas offcanvas-start",tabindex:"-1","aria-label":e.$gettext("Sidebar")},[f(e.$slots,"sidebar")],8,W)):g("",!0),a("div",{id:"page-wrapper",class:B([o(t).sidebar?"has-sidebar":""])},[a("main",X,[a("div",Y,[f(e.$slots,"default")])]),a("footer",Z,[m(n(e.$gettext("Powered by"))+" ",1),s[4]||(s[4]=a("a",{href:"",target:"_blank"},"Agrowest",-1))])],2)],64))}});export{oe as _,L as u};
