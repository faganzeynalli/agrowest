import{g}from"./router-CcCQPAao.js";import{u as k}from"./router-C7bWE8ug.js";import{_ as C}from"./DataTable-DGOprwq7.js";import{u as D}from"./useRefreshableAsyncState-B6lXOoKU.js";import{d as E,u as N}from"./usePlayerStore-B-xb-_xl.js";import{_ as R}from"./Loading-CxLO-rjm.js";import{A as u}from"./AlbumArt-D0N5gbUO.js";import{_ as V,ar as P}from"./icons-BVVFRq1s.js";import{_ as y}from"./PlayButton-SDcr0bvY.js";import{u as U}from"./useStationDateTimeFormatter-DPYd-LLw.js";import{_ as z}from"./PodcastCommon-DFLBzWKR.js";import{_ as L}from"./GridLayout-Bq6F42vN.js";import{u as F}from"./assets/frontend/js/pages/Public/Podcasts-DO2iGjvV.js";import{d as G,c as x,a as j,b as r,o as c,g as e,h as v,w as i,e as t,i as p,t as o,u as a,f as $}from"./vue-DTJ-1uEH.js";import"./lodash-Bdl6ys83.js";import"./lodash-BwctMegf.js";import"./FormMultiCheck-CTsnYoEJ.js";import"./FormCheckbox-AsanX38Q.js";import"./useOptionalStorage-DbEMDEit.js";import"./index-n3LP3PHk.js";import"./bootstrap.esm-BZy605kZ.js";import"./lightbox-Cb_2lrH-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./luxon-DKiUQxiR.js";import"./datetime-BTmRqpun.js";import"./FullHeightCard-Dbmeac-O.js";import"./Lightbox-B7TAdnOB.js";import"./InlinePlayer-CKlzK9un.js";import"./useShowVolume-MjBhe8hl.js";import"./hlsjs-Cx0E5yqS.js";import"./formatTime-DvDPwXf4.js";import"./MuteButton-CZnBIC0f.js";import"./MinimalLayout-BgN4mZWV.js";const q={class:"full-height-scrollable"},H={class:"card-body"},J={class:"d-flex"},K={class:"flex-fill"},M={"aria-label":"breadcrumb"},O={class:"breadcrumb"},Q={class:"breadcrumb-item"},W={class:"breadcrumb-item"},X={class:"buttons"},Y=["href"],Z={class:"flex-shrink ps-3"},ss={class:"m-0"},ts={class:"badges my-2"},as={key:0,class:"badge text-bg-secondary"},os={key:1,class:"badge text-bg-secondary"},es={key:2,class:"badge text-bg-danger"},is={class:"card-text"},cs={class:"btn-group btn-group-sm"},ds={class:"card mb-4"},ls={class:"card-header d-flex align-items-center"},rs={class:"flex-shrink-0 pe-2"},ns={class:"card-title flex-fill m-0"},ps={class:"flex-shrink-0 ps-2"},_s={class:"card-body"},ms={class:"badges my-2"},us={key:0,class:"badge text-bg-secondary"},bs={key:1,class:"badge text-bg-secondary"},hs={key:2,class:"badge text-bg-danger"},fs={class:"card-text"},Ys=G({__name:"Podcast",setup(gs){const{groupLayout:w,stationId:b,stationTz:A}=F(),I=g(x(()=>{const{params:n}=k();return`/public/podcast/${n.podcast_id}`}),b),{axios:S}=E(),{state:d,isLoading:T}=D(()=>S.get(I.value).then(n=>n.data),{}),h=g(x(()=>{const{params:n}=k();return`/public/podcast/${n.podcast_id}/episodes`}),b),{$gettext:l}=N(),B=[{key:"play_button",label:"",sortable:!1,class:"shrink pe-0"},{key:"art",label:"",sortable:!1,class:"shrink pe-0"},{key:"title",label:l("Episode"),sortable:!0},{key:"actions",label:l("Actions"),sortable:!1,class:"shrink"}],{formatTimestampAsDateTime:_}=U(A);return(n,f)=>{const m=j("router-link");return c(),r("div",q,[e(R,{loading:a(T),lazy:""},{default:i(()=>[t("div",H,[t("div",J,[t("div",K,[t("nav",M,[t("ol",O,[t("li",Q,[e(m,{to:{name:"public:podcasts"}},{default:i(()=>[p(o(a(l)("Podcasts")),1)]),_:1})]),t("li",W,o(a(d).title),1)])]),e(z,{podcast:a(d)},null,8,["podcast"]),t("div",X,[t("a",{class:"btn btn-warning btn-sm",href:a(d).links.public_feed,target:"_blank"},[e(V,{icon:a(P)},null,8,["icon"]),p(" "+o(a(l)("RSS")),1)],8,Y)])]),t("div",Z,[e(u,{src:a(d).art,width:128},null,8,["src"])])])])]),_:1},8,["loading"]),a(w)==="table"?(c(),v(C,{key:0,id:"podcast-episodes",ref:"$datatable",paginated:"",fields:B,"api-url":a(h)},{"cell(play_button)":i(({item:s})=>[e(y,{"icon-class":"lg",url:s.links.download},null,8,["url"])]),"cell(art)":i(({item:s})=>[e(u,{src:s.art,width:64},null,8,["src"])]),"cell(title)":i(({item:s})=>[t("h5",ss,[e(m,{to:{name:"public:podcast:episode",params:{podcast_id:a(d).id,episode_id:s.id}}},{default:i(()=>[p(o(s.title),1)]),_:2},1032,["to"])]),t("div",ts,[s.publish_at?(c(),r("span",as,o(a(_)(s.publish_at)),1)):(c(),r("span",os,o(a(_)(s.created_at)),1)),s.explicit?(c(),r("span",es,o(a(l)("Explicit")),1)):$("",!0)]),t("p",is,o(s.description_short),1)]),"cell(actions)":i(({item:s})=>[t("div",cs,[e(m,{to:{name:"public:podcast:episode",params:{podcast_id:a(d).id,episode_id:s.id}},class:"btn btn-primary"},{default:i(()=>[p(o(a(l)("Details")),1)]),_:2},1032,["to"])])]),_:1},8,["api-url"])):(c(),v(L,{key:1,id:"podcast-episodes-grid",ref:"$grid",paginated:"","api-url":a(h)},{item:i(({item:s})=>[t("div",ds,[t("div",ls,[t("div",rs,[e(y,{"icon-class":"lg",url:s.links.download},null,8,["url"])]),t("h5",ns,[e(m,{to:{name:"public:podcast:episode",params:{podcast_id:a(d).id,episode_id:s.id}}},{default:i(()=>[p(o(s.title),1)]),_:2},1032,["to"])]),t("div",ps,[e(u,{src:s.art,width:64},null,8,["src"])])]),t("div",_s,[t("div",ms,[s.publish_at?(c(),r("span",us,o(a(_)(s.publish_at)),1)):(c(),r("span",bs,o(a(_)(s.created_at)),1)),s.explicit?(c(),r("span",hs,o(a(l)("Explicit")),1)):$("",!0)]),t("p",fs,o(s.description_short),1)])])]),_:1},8,["api-url"]))])}}});export{Ys as default};
