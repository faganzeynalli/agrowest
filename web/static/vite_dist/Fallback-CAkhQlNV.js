import{_ as f}from"./FlowUpload-Dp7fLuNf.js";import{_ as b}from"./InfoCard-D6xe4CFe.js";import{d as p,f as h}from"./usePlayerStore-CkejGpKz.js";import{_ as g}from"./FormMarkup-BA315dX5.js";import{_ as k}from"./FormGroup-DZPf8gKm.js";import{g as v}from"./router-C-xyFC2M.js";import{d as y,r as $,p as x,b as c,e,g as s,t as a,w as o,o as n,u as F,i as _}from"./vue-B-dHMJBO.js";import"./formatFileSize--9DaIXge.js";import"./icons-Yf7pfv1X.js";import"./lodash-Bdl6ys83.js";import"./lodash-BwctMegf.js";import"./index-Ct57DpS4.js";import"./bootstrap.esm-BZy605kZ.js";const w={class:"card",role:"region","aria-labelledby":"hdr_fallback_file"},C={class:"card-header text-bg-primary"},S={id:"hdr_fallback_file",class:"card-title"},N={class:"card-text"},B={class:"card-body"},T={class:"row g-3"},U={key:0},V={class:"block-buttons pt-3"},A=["href"],D={key:1},W=y({__name:"Fallback",setup(E){const l=v("/fallback"),i=$(null),{axios:d}=p(),r=()=>{d.get(l.value).then(t=>{i.value=t.data.links.download})};x(r);const{notifySuccess:m}=h(),u=()=>{d.delete(l.value).then(()=>{m(),r()})};return(t,M)=>(n(),c("section",w,[e("div",C,[e("h2",S,a(t.$gettext("Custom Fallback File")),1)]),s(b,null,{default:o(()=>[e("p",N,a(t.$gettext("This file will be played on your radio station any time no media is scheduled to play or a critical error occurs that interrupts regular broadcasting.")),1)]),_:1}),e("div",B,[e("div",T,[s(k,{id:"intro_file",class:"col-md-6"},{label:o(()=>[_(a(t.$gettext("Select Custom Fallback File")),1)]),default:o(()=>[s(f,{"target-url":F(l),"valid-mime-types":["audio/*"],onSuccess:r},null,8,["target-url"])]),_:1}),s(g,{id:"current_custom_fallback_file",class:"col-md-6"},{label:o(()=>[_(a(t.$gettext("Current Custom Fallback File")),1)]),default:o(()=>[i.value?(n(),c("div",U,[e("div",V,[e("a",{class:"btn btn-block btn-dark",href:i.value,target:"_blank"},a(t.$gettext("Download")),9,A),e("button",{type:"button",class:"btn btn-block btn-danger",onClick:u},a(t.$gettext("Clear File")),1)])])):(n(),c("div",D,a(t.$gettext("There is no existing custom fallback file associated with this station.")),1))]),_:1})])])]))}});export{W as default};
