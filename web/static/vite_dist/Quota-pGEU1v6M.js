import{u as U,d as C}from"./usePlayerStore-DrK7fhNm.js";import{d as k,r as q,N as w,c as d,p as F,b as s,f as N,F as c,e as p,h as v,D as S,z as T,t as l,o as t}from"./vue-Cts3TEHg.js";const V={key:0,style:{"line-height":"1"}},z=["aria-label","aria-valuenow"],$=k({__name:"Quota",props:{quotaUrl:{}},emits:["updated"],setup(_,{expose:m,emit:f}){const g=_,b=f,u=q(!0),e=w({used:null,used_bytes:null,used_percent:null,available:null,available_bytes:null,quota:null,quota_bytes:null,is_full:null,num_files:null}),x=d(()=>e.value.used_percent>85?"text-bg-danger":e.value.used_percent>65?"text-bg-warning":"text-bg-default"),{$gettext:n,$ngettext:h}=U(),r=d(()=>{let a;if(e.value.available?a=n("%{spaceUsed} of %{spaceTotal} Used",{spaceUsed:e.value.used,spaceTotal:e.value.available}):a=n("%{spaceUsed} Used",{spaceUsed:e.value.used}),e.value.num_files!==null){const i=h("%{filesCount} File","%{filesCount} Files",e.value.num_files,{filesCount:String(e.value.num_files)});return a+" ("+i+")"}return a}),{axios:y}=C(),o=()=>{y.get(g.quotaUrl).then(a=>{e.value=a.data,u.value=!1,b("updated",e.value)})};return F(o),m({update:o}),(a,i)=>u.value?N("",!0):(t(),s("div",V,[e.value.available?(t(),s(c,{key:0},[p("div",{class:"progress h-20 mb-3",role:"progressbar","aria-label":e.value.used_percent+"%","aria-valuenow":e.value.used_percent,"aria-valuemin":"0","aria-valuemax":"100"},[p("div",{class:T(["progress-bar",x.value]),style:S({width:e.value.used_percent+"%"})},l(e.value.used_percent)+" % ",7)],8,z),v(" "+l(r.value),1)],64)):(t(),s(c,{key:1},[v(l(r.value),1)],64))]))}});export{$ as _};
