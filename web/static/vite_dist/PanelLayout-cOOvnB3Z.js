import{r as k,p as w,c as f,d as S,E as $,s as T,q as _,b as m,o as c,e,f as g,t as n,u as t,g as r,i as l,H as A,G as v,z as I,F as M}from"./vue-DTJ-1uEH.js";import{w as N,_ as i,x as U,y as C,n as D,z as E,A as H,B as L,C as B,D as P}from"./icons-BVVFRq1s.js";import{u as V}from"./useOptionalStorage-DITHAk2f.js";import{h as z,j as O}from"./usePlayerStore-DgYe3TjK.js";const F=z(()=>{const h=document.documentElement,a=k(null);w(()=>{a.value=h.getAttribute("data-bs-theme")});const d=V("theme",null),p=()=>d.value?d.value:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",s=u=>{h.setAttribute("data-bs-theme",u),a.value=u,d.value=u},o=()=>{const u=p();s(u==="light"?"dark":"light")},b=f(()=>a.value==="dark"),y=f(()=>a.value==="light");return{currentTheme:a,isDark:b,isLight:y,setTheme:s,toggleTheme:o}}),G={class:"visually-hidden-focusable",href:"#content"},j={class:"navbar bg-primary-dark shadow-sm fixed-top"},q=["aria-label"],x=["href"],J={key:0},K={class:"dropdown ms-3 d-inline-flex align-items-center"},Q={class:"me-2"},R=["aria-label"],W={class:"dropdown-menu dropdown-menu-end"},X=["href"],Y={key:0},Z=["href"],ee=["href"],se={class:"dropdown-item",href:"/docs/",target:"_blank"},oe={class:"dropdown-item",href:"/docs/help/troubleshooting/",target:"_blank"},te=["href"],ae=["aria-label"],ne={id:"main"},le={class:"container"},re={id:"footer"},ie=["innerHTML"],pe=S({__name:"PanelLayout",props:{instanceName:{},userDisplayName:{},homeUrl:{},profileUrl:{},adminUrl:{},logoutUrl:{},showAdmin:{type:Boolean},version:{},platform:{}},setup(h){const a=$(),d=()=>{a.sidebar?document.body.classList.add("has-sidebar"):document.body.classList.remove("has-sidebar")},{toggleTheme:p}=F();return T(()=>a.sidebar,d,{immediate:!0}),O("global"),w(()=>{_(()=>{document.dispatchEvent(new CustomEvent("vue-ready"))})}),(s,o)=>(c(),m(M,null,[e("a",G,n(s.$gettext("Skip to main content")),1),e("header",j,[t(a).sidebar?(c(),m("button",{key:0,id:"navbar-toggle","data-bs-toggle":"offcanvas","data-bs-target":"#sidebar","aria-controls":"sidebar","aria-expanded":"false","aria-label":s.$gettext("Toggle Sidebar"),class:"navbar-toggler d-inline-flex d-lg-none me-3"},[r(i,{icon:t(N),class:"lg"},null,8,["icon"])],8,q)):g("",!0),e("a",{class:"navbar-brand ms-0 me-auto",href:s.homeUrl},[o[1]||(o[1]=l(" Aplus")),o[2]||(o[2]=e("strong",null," Stream",-1)),s.instanceName?(c(),m("small",J,n(s.instanceName),1)):g("",!0)],8,x),o[6]||(o[6]=e("div",{id:"radio-player-controls"},null,-1)),e("div",K,[e("div",Q,n(s.userDisplayName),1),e("button",{"aria-expanded":"false","aria-haspopup":"true",class:"navbar-toggler","aria-label":s.$gettext("Toggle Menu"),"data-bs-toggle":"dropdown",type:"button"},[r(i,{icon:t(U),class:"lg"},null,8,["icon"])],8,R),e("ul",W,[e("li",null,[e("a",{class:"dropdown-item",href:s.homeUrl},[r(i,{icon:t(C)},null,8,["icon"]),l(" "+n(s.$gettext("Dashboard")),1)],8,X)]),o[3]||(o[3]=e("li",{class:"dropdown-divider"},"   ",-1)),s.showAdmin?(c(),m("li",Y,[e("a",{class:"dropdown-item",href:s.adminUrl},[r(i,{icon:t(D)},null,8,["icon"]),l(" "+n(s.$gettext("System Administration")),1)],8,Z)])):g("",!0),e("li",null,[e("a",{class:"dropdown-item",href:s.profileUrl},[r(i,{icon:t(E)},null,8,["icon"]),l(" "+n(s.$gettext("My Account")),1)],8,ee)]),e("li",null,[e("a",{class:"dropdown-item theme-switcher",href:"#",onClick:o[0]||(o[0]=A((...b)=>t(p)&&t(p)(...b),["prevent"]))},[r(i,{icon:t(H)},null,8,["icon"]),l(" "+n(s.$gettext("Switch Theme")),1)])]),o[4]||(o[4]=e("li",{class:"dropdown-divider"},"   ",-1)),e("li",null,[e("a",se,[r(i,{icon:t(L)},null,8,["icon"]),l(" "+n(s.$gettext("Documentation")),1)])]),e("li",null,[e("a",oe,[r(i,{icon:t(B)},null,8,["icon"]),l(" "+n(s.$gettext("Help")),1)])]),o[5]||(o[5]=e("li",{class:"dropdown-divider"},"   ",-1)),e("li",null,[e("a",{class:"dropdown-item",href:s.logoutUrl},[r(i,{icon:t(P)},null,8,["icon"]),l(" "+n(s.$gettext("Sign Out")),1)],8,te)])])])]),t(a).sidebar?(c(),m("nav",{key:0,id:"sidebar",class:"navdrawer offcanvas offcanvas-start",tabindex:"-1","aria-label":s.$gettext("Sidebar")},[v(s.$slots,"sidebar")],8,ae)):g("",!0),e("div",{id:"page-wrapper",class:I([t(a).sidebar?"has-sidebar":""])},[e("main",ne,[e("div",le,[v(s.$slots,"default")])]),e("footer",re,[l(n(s.$gettext("Powered by"))+" ",1),o[7]||(o[7]=e("a",{href:"",target:"_blank"},"Aplus",-1)),o[8]||(o[8]=l(" • ")),e("span",{innerHTML:s.platform},null,8,ie),o[9]||(o[9]=e("br",null,null,-1))])],2)],64))}});export{pe as _,F as u};
