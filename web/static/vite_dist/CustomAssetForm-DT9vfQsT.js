import{d as b}from"./usePlayerStore-DtvVlgTn.js";import{_ as x}from"./Loading-zTzdosl6.js";import{_ as k}from"./FormGroup-LCbWR38E.js";import{_ as C}from"./FormFile-ByMMAzbh.js";import{a as U}from"./lightbox-CLViexMZ.js";import{d as w,r as l,p as y,b as r,e as d,m as $,u as D,g as c,w as u,o as m,f as N,h as V,t as f}from"./vue-Cts3TEHg.js";const B={class:"d-flex"},L={class:"flex-shrink-0"},A=["href"],E=["src","alt"],F={class:"flex-grow-1 ms-3"},G=w({__name:"CustomAssetForm",props:{id:{},apiUrl:{},caption:{}},setup(_){const t=_,o=l(!0),p=l(!1),s=l(null),{axios:i}=b(),n=()=>{o.value=!0,i.get(t.apiUrl).then(e=>{p.value=e.data.is_uploaded,s.value=e.data.url,o.value=!1})};y(n);const v=e=>{if(e===null)return;const a=new FormData;a.append("file",e),i.post(t.apiUrl,a).finally(()=>{n()})},g=()=>{i.delete(t.apiUrl).finally(()=>{n()})},{vLightbox:h}=U();return(e,a)=>(m(),r("div",B,[d("div",L,[$((m(),r("a",{href:s.value,target:"_blank"},[d("img",{src:s.value,width:"125",alt:e.caption},null,8,E)],8,A)),[[D(h)]])]),d("div",F,[c(x,{loading:o.value},{default:u(()=>[c(k,{id:e.id},{label:u(()=>[V(f(e.caption),1)]),default:u(()=>[c(C,{id:e.id,onUploaded:v},null,8,["id"])]),_:1},8,["id"]),p.value?(m(),r("button",{key:0,type:"button",class:"btn btn-danger mt-3",onClick:a[0]||(a[0]=I=>g())},f(e.$gettext("Clear Image")),1)):N("",!0)]),_:1},8,["loading"])])]))}});export{G as _};
