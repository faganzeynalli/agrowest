import{_ as h}from"./CustomAssetForm-CQZReYkF.js";import{d as P,r as S,c as T,p as j,b as V,o as y,H as I,e as i,m as D,t as g,u as e,v as F,g as a,w as m,j as R,F as H}from"./vue-DTJ-1uEH.js";import{_ as v}from"./CodemirrorTextarea-B3kKNfjp.js";import{_ as c}from"./index-CK5gn8hD.js";import{_ as x}from"./FormGroupCheckbox-yd9pjb1f.js";import{u as N,d as E,f as M}from"./usePlayerStore-DgYe3TjK.js";import{m as O}from"./mergeExisting-BH6wPZw0.js";import{u as J}from"./useVuelidateOnForm-DTqLR35P.js";import{_ as q}from"./FormGroupMultiCheck-BidFewq3.js";import{_ as z}from"./Loading-CxLO-rjm.js";import{_ as G}from"./CardPage-D-r1d3Gj.js";import{_ as K}from"./Lightbox-B7TAdnOB.js";import{u as Q}from"./lightbox-Cb_2lrH-.js";import{a as b}from"./router-CTDx8gfL.js";import"./FormGroup-BNI6R37d.js";import"./FormFile-BEabLZ4L.js";import"./index.es-vGs_rtSc.js";import"./PanelLayout-cOOvnB3Z.js";import"./icons-BVVFRq1s.js";import"./useOptionalStorage-DITHAk2f.js";import"./index-CL6ZUZxu.js";import"./useFormField-g35ZicrT.js";import"./lodash-Bdl6ys83.js";import"./lodash-BwctMegf.js";import"./FormCheckbox-AsanX38Q.js";import"./bootstrap.esm-BZy605kZ.js";import"./FormMultiCheck-CTsnYoEJ.js";import"./useSlotsExcept-BSzLfLLp.js";import"./InfoCard-Db4untlq.js";const W={class:"card mb-3",role:"region"},X={class:"card-header text-bg-primary"},Y={class:"card-title"},Z={class:"card-body"},ee={class:"row g-3"},te={class:"col-md-6"},ae={class:"btn btn-primary mt-3",type:"submit"},se=P({__name:"BrandingForm",props:{apiUrl:{}},setup($){const u=$,o=S(!0),_=S(null),{form:r,resetForm:p,v$:s,ifValid:U}=J({public_theme:{},hide_album_art:{},homepage_redirect_url:{},default_album_art_url:{},hide_product_name:{},public_custom_css:{},public_custom_js:{},internal_custom_css:{}},{public_theme:"",hide_album_art:!1,homepage_redirect_url:"",default_album_art_url:"",hide_product_name:!1,public_custom_css:"",public_custom_js:"",internal_custom_css:""}),{$gettext:t}=N(),k=T(()=>[{text:t("Prefer System Default"),value:"browser"},{text:t("Light"),value:"light"},{text:t("Dark"),value:"dark"}]),{axios:w}=E(),C=f=>{r.value=O(r.value,f)},A=()=>{p(),o.value=!0,w.get(u.apiUrl).then(f=>{C(f.data),o.value=!1})};j(A);const{notifySuccess:B}=M(),L=()=>{U(()=>{w({method:"PUT",url:u.apiUrl,data:r.value}).then(()=>{B(t("Changes saved.")),A()})})};return(f,re)=>(y(),V("form",{class:"form vue-form",onSubmit:I(L,["prevent"])},[i("section",W,[i("div",X,[i("h2",Y,g(e(t)("Branding Settings")),1)]),D(i("div",{class:"alert alert-danger"},g(_.value),513),[[F,_.value!=null]]),i("div",Z,[a(z,{loading:o.value},{default:m(()=>[i("div",ee,[a(q,{id:"edit_form_public_theme",class:"col-md-6",field:e(s).public_theme,options:k.value,stacked:"",radio:"",label:e(t)("Base Theme for Public Pages"),description:e(t)("Select a theme to use as a base for station public pages and the login page.")},null,8,["field","options","label","description"]),i("div",te,[a(x,{id:"form_edit_hide_album_art",class:"mb-2",field:e(s).hide_album_art,label:e(t)("Hide Album Art on Public Pages"),description:e(t)("If selected, album art will not display on public-facing radio pages.")},null,8,["field","label","description"]),a(x,{id:"form_edit_hide_product_name",field:e(s).hide_product_name,label:e(t)("Hide Aplus Branding on Public Pages"),description:e(t)("If selected, this will remove the Aplus branding from public-facing pages.")},null,8,["field","label","description"])]),a(c,{id:"form_edit_homepage_redirect_url",class:"col-md-6",field:e(s).homepage_redirect_url,label:e(t)("Homepage Redirect URL"),description:e(t)("If a visitor is not signed in and visits the Aplus homepage, you can automatically redirect them to the URL specified here. Leave blank to redirect them to the login screen by default.")},null,8,["field","label","description"]),a(c,{id:"form_edit_default_album_art_url",class:"col-md-6",field:e(s).default_album_art_url,label:e(t)("Default Album Art URL"),description:e(t)("If a song has no album art, this URL will be listed instead. Leave blank to use the standard placeholder art.")},null,8,["field","label","description"]),a(c,{id:"edit_form_public_custom_css",class:"col-md-12",field:e(s).public_custom_css,label:e(t)("Custom CSS for Public Pages"),description:e(t)("This CSS will be applied to the station public pages and login page.")},{default:m(({id:d,model:l})=>[a(v,{id:d,modelValue:l.$model,"onUpdate:modelValue":n=>l.$model=n,mode:"css"},null,8,["id","modelValue","onUpdate:modelValue"])]),_:1},8,["field","label","description"]),a(c,{id:"edit_form_public_custom_js",class:"col-md-12",field:e(s).public_custom_js,label:e(t)("Custom JS for Public Pages"),description:e(t)("This javascript code will be applied to the station public pages and login page.")},{default:m(({id:d,model:l})=>[a(v,{id:d,modelValue:l.$model,"onUpdate:modelValue":n=>l.$model=n,mode:"javascript"},null,8,["id","modelValue","onUpdate:modelValue"])]),_:1},8,["field","label","description"]),a(c,{id:"edit_form_internal_custom_css",class:"col-md-12",field:e(s).internal_custom_css,label:e(t)("Custom CSS for Internal Pages"),description:e(t)("This CSS will be applied to the main management pages, like this one.")},{default:m(({id:d,model:l})=>[a(v,{id:d,modelValue:l.$model,"onUpdate:modelValue":n=>l.$model=n,mode:"css"},null,8,["id","modelValue","onUpdate:modelValue"])]),_:1},8,["field","label","description"])]),i("button",ae,g(e(t)("Save Changes")),1)]),_:1},8,["loading"])])])],32))}}),ie={class:"outside-card-header mb-1"},le={class:"card-body"},oe={class:"list-unstyled"},Fe=P({__name:"Branding",setup($){const u=b("/admin/settings/branding"),o=b("/admin/custom_assets/browser_icon"),_=b("/admin/custom_assets/background"),r=b("/admin/custom_assets/album_art"),p=R("$lightbox");return Q(p),(s,U)=>(y(),V(H,null,[i("h2",ie,g(s.$gettext("Custom Branding")),1),a(G,{class:"mb-3","header-id":"hdr_upload_custom_assets",title:s.$gettext("Upload Custom Assets")},{default:m(()=>[i("div",le,[i("ul",oe,[a(h,{id:"asset_background",class:"mb-3","api-url":e(_),caption:s.$gettext("Public Page Background")},null,8,["api-url","caption"]),a(h,{id:"asset_album_art",class:"mb-3","api-url":e(r),caption:s.$gettext("Default Album Art")},null,8,["api-url","caption"]),a(h,{id:"asset_browser_icon","api-url":e(o),caption:s.$gettext("Browser Icon")},null,8,["api-url","caption"])])])]),_:1},8,["title"]),a(se,{"api-url":e(u)},null,8,["api-url"]),a(K,{ref_key:"$lightbox",ref:p},null,512)],64))}});export{Fe as default};
