import{d as y,r as x,p as E,b as w,E as P,e,m as j,g as o,t as m,u as t,v as T,w as f,o as V}from"./vue-B-dHMJBO.js";import{_ as U}from"./CodemirrorTextarea-qMg02d70.js";import{_ as u}from"./index-CD5urVsR.js";import{u as D,d as L,f as F}from"./usePlayerStore-KLtIIp-S.js";import{m as N}from"./mergeExisting-D7dGFTzO.js";import{u as O}from"./useVuelidateOnForm-BP2H-zhB.js";import{_ as M}from"./Loading-B4WK-6A0.js";import{_ as S}from"./CustomAssetForm-C_7UiD7L.js";import{g as b}from"./router-CjgRDsAC.js";import"./index.es-H4W9-E9O.js";import"./PanelLayout-B_woGhAF.js";import"./icons-Yf7pfv1X.js";import"./useOptionalStorage-BvRWWVwv.js";import"./index-DXvg9C8z.js";import"./useFormField-CS-SOlLc.js";import"./lodash-Bdl6ys83.js";import"./lodash-BwctMegf.js";import"./FormGroup-DZPf8gKm.js";import"./bootstrap.esm-BZy605kZ.js";import"./FormFile-nZ9a7fD4.js";import"./lightbox-BJHiTgc7.js";const R={class:"card mb-3",role:"region"},z={class:"card-header text-bg-primary"},I={class:"card-title"},J={class:"card-body"},q={class:"row g-3"},G={class:"btn btn-primary mt-3",type:"submit"},H=y({__name:"BrandingForm",props:{profileEditUrl:{}},setup(g){const r=g,l=x(!0),d=x(null),{form:a,resetForm:h,v$:c,ifValid:A}=O({default_album_art_url:{},public_custom_css:{},public_custom_js:{},offline_text:{}},{default_album_art_url:"",public_custom_css:"",public_custom_js:"",offline_text:""}),{$gettext:s}=D(),{axios:v}=L(),k=n=>{a.value=N(a.value,n)},$=()=>{h(),l.value=!0,v.get(r.profileEditUrl).then(n=>{k(n.data.branding_config),l.value=!1})};E($);const{notifySuccess:C}=F(),B=()=>{A(()=>{v({method:"PUT",url:r.profileEditUrl,data:{branding_config:a.value}}).then(()=>{C(),$()})})};return(n,tt)=>(V(),w("form",{class:"form vue-form",onSubmit:P(B,["prevent"])},[e("section",R,[e("div",z,[e("h2",I,m(t(s)("Branding Settings")),1)]),j(e("div",{class:"alert alert-danger"},m(d.value),513),[[T,d.value!=null]]),o(M,{loading:l.value},{default:f(()=>[e("div",J,[e("div",q,[o(u,{id:"form_edit_offline_text",class:"col-md-6",field:t(c).offline_text,label:t(s)("Station Offline Display Text"),description:t(s)('This will be shown on public player pages if the station is offline. Leave blank to default to a localized version of "%{message}".',{message:t(s)("Station Offline")})},null,8,["field","label","description"]),o(u,{id:"form_edit_default_album_art_url",class:"col-md-6",field:t(c).default_album_art_url,label:t(s)("Default Album Art URL"),description:t(s)("If a song has no album art, this URL will be listed instead. Leave blank to use the standard placeholder art.")},null,8,["field","label","description"]),o(u,{id:"edit_form_public_custom_css",class:"col-md-12",field:t(c).public_custom_css,label:t(s)("Custom CSS for Public Pages"),description:t(s)("This CSS will be applied to the station public pages.")},{default:f(({id:_,model:i})=>[o(U,{id:_,modelValue:i.$model,"onUpdate:modelValue":p=>i.$model=p,mode:"css"},null,8,["id","modelValue","onUpdate:modelValue"])]),_:1},8,["field","label","description"]),o(u,{id:"edit_form_public_custom_js",class:"col-md-12",field:t(c).public_custom_js,label:t(s)("Custom JS for Public Pages"),description:t(s)("This javascript code will be applied to the station public pages.")},{default:f(({id:_,model:i})=>[o(U,{id:_,modelValue:i.$model,"onUpdate:modelValue":p=>i.$model=p,mode:"javascript"},null,8,["id","modelValue","onUpdate:modelValue"])]),_:1},8,["field","label","description"])]),e("button",G,m(t(s)("Save Changes")),1)])]),_:1},8,["loading"])])],32))}}),K={class:"row-of-cards"},Q={class:"card",role:"region","aria-labelledby":"hdr_custom_assets"},W={class:"card-header text-bg-primary"},X={id:"hdr_custom_assets",class:"card-title"},Y={class:"card-body"},Z={class:"list-unstyled"},Ut=y({__name:"Branding",setup(g){const r=b("/profile/edit"),l=b("/custom_assets/background"),d=b("/custom_assets/album_art");return(a,h)=>(V(),w("div",K,[e("section",Q,[e("div",W,[e("h2",X,m(a.$gettext("Upload Custom Assets")),1)]),e("div",Y,[e("ul",Z,[o(S,{id:"asset_background",class:"mb-3","api-url":t(l),caption:a.$gettext("Public Page Background")},null,8,["api-url","caption"]),o(S,{id:"asset_album_art",class:"mb-3","api-url":t(d),caption:a.$gettext("Default Album Art")},null,8,["api-url","caption"])])])]),o(H,{"profile-edit-url":t(r)},null,8,["profile-edit-url"])]))}});export{Ut as default};
