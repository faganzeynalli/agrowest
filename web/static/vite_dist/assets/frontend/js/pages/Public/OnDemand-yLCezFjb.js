import{_ as k}from"../../../../../InlinePlayer-Bvokkmm5.js";import{_ as y}from"../../../../../DataTable-IpCKErCf.js";import{l as h}from"../../../../../lodash-Bdl6ys83.js";import{_ as w,C as g}from"../../../../../icons-Be1GHOkw.js";import{_ as v}from"../../../../../PlayButton-U5BBf7uh.js";import{u as A,i as B}from"../../../../../usePlayerStore-DS4JWrVc.js";import{A as D}from"../../../../../AlbumArt-IO3w6IEk.js";import{_ as N}from"../../../../../FullHeightCard-_snjz3g6.js";import{d as $,j as x,o,w as r,g as l,b as m,f as C,u as n,e as i,F as d,h as u,t as _}from"../../../../../vue-Cts3TEHg.js";import{u as F}from"../../../../../MinimalLayout-DkFD2Yqu.js";import"../../../../../useShowVolume-CL8MbxxT.js";import"../../../../../hlsjs-Cx0E5yqS.js";import"../../../../../useOptionalStorage-D1XbMmRA.js";import"../../../../../index-TG6t8ei9.js";import"../../../../../formatTime-DvDPwXf4.js";import"../../../../../MuteButton-DN23R6md.js";import"../../../../../FormMultiCheck-BRaoZhWq.js";import"../../../../../FormCheckbox-VeRpO6PO.js";import"../../../../../lodash-BwctMegf.js";import"../../../../../bootstrap.esm-BZy605kZ.js";import"../../../../../lightbox-CLViexMZ.js";import"../../../../../_plugin-vue_export-helper-DlAUqK2U.js";import"../../../../../Lightbox-zgmbLVpf.js";import"../../../../../MinimalLayout-Cqqk9Ecx.js";const V={class:"d-flex align-items-center"},E={class:"flex-shrink"},T={class:"card-title py-2"},M={class:"flex-fill text-end"},O=["href","title"],U=$({__name:"OnDemand",props:{listUrl:{},stationName:{},customFields:{default:()=>[]},showDownloadButton:{type:Boolean,default:!1}},setup(p){const f=p,{$gettext:a}=A(),c=[{key:"download_url",label:" ",class:"shrink"},{key:"art",label:a("Art"),class:"shrink"},{key:"title",label:a("Title"),sortable:!0,selectable:!0,formatter:(e,s,t)=>t.media.title},{key:"artist",label:a("Artist"),sortable:!0,selectable:!0,formatter:(e,s,t)=>t.media.artist},{key:"album",label:a("Album"),sortable:!0,selectable:!0,visible:!1,formatter:(e,s,t)=>t.media.album}];return h.forEach(f.customFields.slice(),e=>{c.push({key:e.display_key,label:e.label,sortable:!0,selectable:!0,visible:!1,formatter:(s,t,b)=>b.media.custom_fields[e.key]})}),(e,s)=>(o(),x(N,null,{header:r(()=>[i("div",V,[i("div",E,[i("h2",T,[e.stationName?(o(),m(d,{key:0},[u(_(e.stationName),1)],64)):(o(),m(d,{key:1},[u(_(n(a)("On-Demand Media")),1)],64))])]),i("div",M,[l(k,{ref:"player"},null,512)])])]),default:r(()=>[l(y,{id:"public_on_demand",ref:"datatable",paginated:"","select-fields":"",fields:c,"api-url":e.listUrl},{"cell(download_url)":r(t=>[l(v,{class:"btn-lg",url:t.item.download_url},null,8,["url"]),e.showDownloadButton?(o(),m("a",{key:0,class:"name btn btn-lg p-0 ms-2",href:t.item.download_url,target:"_blank",title:n(a)("Download")},[l(w,{icon:n(g)},null,8,["icon"])],8,O)):C("",!0)]),"cell(art)":r(t=>[l(D,{src:t.item.media.art},null,8,["src"])]),_:1},8,["api-url"])]),_:1}))}});B(F(U));
