import{_ as k}from"../../../../../InlinePlayer-CqVgEHPY.js";import{_ as y}from"../../../../../DataTable-vHTsgTi6.js";import{l as h}from"../../../../../lodash-Bdl6ys83.js";import{_ as w,M as g}from"../../../../../icons-Yf7pfv1X.js";import{_ as v}from"../../../../../PlayButton-CHwgdHi6.js";import{u as A,i as B}from"../../../../../usePlayerStore-KLtIIp-S.js";import{A as D}from"../../../../../AlbumArt-3z3lJYbm.js";import{_ as N}from"../../../../../FullHeightCard-DWVp8lS9.js";import{d as $,h as x,o,w as r,g as l,b as m,f as F,u as n,e as i,F as d,i as u,t as _}from"../../../../../vue-B-dHMJBO.js";import{u as V}from"../../../../../MinimalLayout-BjdN8Ivl.js";import"../../../../../useShowVolume-BWrcCy71.js";import"../../../../../hlsjs-Cx0E5yqS.js";import"../../../../../useOptionalStorage-BvRWWVwv.js";import"../../../../../index-DXvg9C8z.js";import"../../../../../formatTime-DvDPwXf4.js";import"../../../../../MuteButton-CQGiAlAY.js";import"../../../../../FormMultiCheck-C8kU6V99.js";import"../../../../../FormCheckbox-CBrIHDuX.js";import"../../../../../lodash-BwctMegf.js";import"../../../../../bootstrap.esm-BZy605kZ.js";import"../../../../../lightbox-BJHiTgc7.js";import"../../../../../_plugin-vue_export-helper-DlAUqK2U.js";import"../../../../../Lightbox-CyVEhnVk.js";import"../../../../../MinimalLayout-NGJ7mFAZ.js";const C={class:"d-flex align-items-center"},E={class:"flex-shrink"},M={class:"card-title py-2"},T={class:"flex-fill text-end"},O=["href","title"],U=$({__name:"OnDemand",props:{listUrl:{},stationName:{},customFields:{default:()=>[]},showDownloadButton:{type:Boolean,default:!1}},setup(p){const f=p,{$gettext:a}=A(),c=[{key:"download_url",label:" ",class:"shrink"},{key:"art",label:a("Art"),class:"shrink"},{key:"title",label:a("Title"),sortable:!0,selectable:!0,formatter:(e,s,t)=>t.media.title},{key:"artist",label:a("Artist"),sortable:!0,selectable:!0,formatter:(e,s,t)=>t.media.artist},{key:"album",label:a("Album"),sortable:!0,selectable:!0,visible:!1,formatter:(e,s,t)=>t.media.album}];return h.forEach(f.customFields.slice(),e=>{c.push({key:e.display_key,label:e.label,sortable:!0,selectable:!0,visible:!1,formatter:(s,t,b)=>b.media.custom_fields[e.key]})}),(e,s)=>(o(),x(N,null,{header:r(()=>[i("div",C,[i("div",E,[i("h2",M,[e.stationName?(o(),m(d,{key:0},[u(_(e.stationName),1)],64)):(o(),m(d,{key:1},[u(_(n(a)("On-Demand Media")),1)],64))])]),i("div",T,[l(k,{ref:"player"},null,512)])])]),default:r(()=>[l(y,{id:"public_on_demand",ref:"datatable",paginated:"","select-fields":"",fields:c,"api-url":e.listUrl},{"cell(download_url)":r(t=>[l(v,{class:"btn-lg",url:t.item.download_url},null,8,["url"]),e.showDownloadButton?(o(),m("a",{key:0,class:"name btn btn-lg p-0 ms-2",href:t.item.download_url,target:"_blank",title:n(a)("Download")},[l(w,{icon:n(g)},null,8,["icon"])],8,O)):F("",!0)]),"cell(art)":r(t=>[l(D,{src:t.item.media.art},null,8,["src"])]),_:1},8,["api-url"])]),_:1}))}});B(V(U));
