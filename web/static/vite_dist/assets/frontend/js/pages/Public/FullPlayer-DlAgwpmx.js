import{d as h,i,j as y,o as l,w,g as s,A as f,u as d,N as v,b as g,e as t,f as k,t as c,H as q,F as B}from"../../../../../vue-Cts3TEHg.js";import{_ as H}from"../../../../../SongHistory-BVZc0bv4.js";import{u as A,_ as M}from"../../../../../useHasModal-BWWcbDj3.js";import{_ as S}from"../../../../../Requests-B0vzPKlb.js";import{D as R,_,E as x,C}from"../../../../../icons-Be1GHOkw.js";import{_ as F}from"../../../../../Player-CWJEtZ3i.js";import{_ as N}from"../../../../../Lightbox-zgmbLVpf.js";import{u as U}from"../../../../../lightbox-CLViexMZ.js";import{i as L}from"../../../../../usePlayerStore-D2Yy6Bxy.js";import{u as D}from"../../../../../MinimalLayout-CpulLRMq.js";import"../../../../../AlbumArt-IO3w6IEk.js";import"../../../../../_plugin-vue_export-helper-DlAUqK2U.js";import"../../../../../luxon-BJyPbqTc.js";import"../../../../../datetime-BTmRqpun.js";import"../../../../../bootstrap.esm-BZy605kZ.js";import"../../../../../Loading-vp9RNwAY.js";import"../../../../../index-Bav4EGom.js";import"../../../../../DataTable-CuDCWdIJ.js";import"../../../../../lodash-Bdl6ys83.js";import"../../../../../lodash-BwctMegf.js";import"../../../../../FormMultiCheck-BRaoZhWq.js";import"../../../../../FormCheckbox-VeRpO6PO.js";import"../../../../../useOptionalStorage-DBOfakfd.js";import"../../../../../useShowVolume-CASfY0NK.js";import"../../../../../hlsjs-Cx0E5yqS.js";import"../../../../../PlayButton-C_xWNWvy.js";import"../../../../../useNowPlaying-B9Im5tho.js";import"../../../../../router-4MaTkvgX.js";import"../../../../../formatTime-DvDPwXf4.js";import"../../../../../MuteButton-MYhWrS4X.js";import"../../../../../MinimalLayout-CyNY2g_K.js";const I=h({__name:"SongHistoryModal",props:{history:{},showAlbumArt:{type:Boolean,default:!0}},setup(m,{expose:r}){const a=i("$modal"),{show:n}=A(a);return r({open:n}),(e,p)=>(l(),y(M,{id:"song_history_modal",ref_key:"$modal",ref:a,size:"md",title:e.$gettext("Song History"),centered:""},{default:w(()=>[s(H,{"show-album-art":e.showAlbumArt,history:e.history},null,8,["show-album-art","history"])]),_:1},8,["title"]))}}),P=h({inheritAttrs:!1,__name:"RequestModal",props:{requestListUri:{},showAlbumArt:{type:Boolean},customFields:{}},setup(m,{expose:r}){const a=m,n=i("$modal"),{show:e,hide:p}=A(n);return r({open:e}),(u,b)=>(l(),y(M,{id:"request_modal",ref_key:"$modal",ref:n,size:"lg",title:u.$gettext("Request a Song"),"hide-footer":""},{default:w(()=>[s(S,f(a,{onSubmitted:d(p)}),null,16,["onSubmitted"])]),_:1},8,["title"]))}}),V={class:"public-page"},z={class:"card"},E={class:"card-body"},T={class:"card-title mb-3"},j={class:"stations nowplaying"},G={class:"card-body buttons pt-0"},J=["href"],K=h({__name:"FullPlayer",props:{stationName:{},enableRequests:{type:Boolean,default:!1},downloadPlaylistUri:{},offlineText:{},showHls:{type:Boolean},showAlbumArt:{type:Boolean},autoplay:{type:Boolean},stationShortName:{},useStatic:{type:Boolean},useSse:{type:Boolean},requestListUri:{},customFields:{}},setup(m){const r=m,a=v([]),n=o=>{a.value=o==null?void 0:o.song_history},e=i("$songHistoryModal"),p=()=>{var o;(o=e.value)==null||o.open()},u=i("$requestModal"),b=()=>{var o;(o=u.value)==null||o.open()},$=i("$lightbox");return U($),(o,O)=>(l(),g(B,null,[t("div",V,[t("div",z,[t("div",E,[t("h2",T,c(o.stationName),1),t("div",j,[s(F,f(r,{onNp_updated:n}),null,16)])]),t("div",G,[t("a",{class:"btn btn-link text-secondary",onClick:q(p,["prevent"])},[s(_,{icon:d(R)},null,8,["icon"]),t("span",null,c(o.$gettext("Song History")),1)]),o.enableRequests?(l(),g("a",{key:0,class:"btn btn-link text-secondary",onClick:q(b,["prevent"])},[s(_,{icon:d(x)},null,8,["icon"]),t("span",null,c(o.$gettext("Request Song")),1)])):k("",!0),t("a",{class:"btn btn-link text-secondary",href:o.downloadPlaylistUri},[s(_,{icon:d(C)},null,8,["icon"]),t("span",null,c(o.$gettext("Playlist")),1)],8,J)])])]),s(I,{ref_key:"$songHistoryModal",ref:e,"show-album-art":o.showAlbumArt,history:a.value},null,8,["show-album-art","history"]),o.enableRequests?(l(),y(P,f({key:0,ref_key:"$requestModal",ref:u},r),null,16)):k("",!0),s(N,{ref_key:"$lightbox",ref:$},null,512)],64))}});L(D(K));
