import{r as k,p as w,c as f,d as $,E as S,s as T,q as _,b as m,o as c,e,f as g,t as a,u as t,g as r,i as n,H as A,G as v,z as M,F as I}from"./vue-DTJ-1uEH.js";import{w as L,_ as i,x as N,y as U,n as C,z as D,A as H,B as E,C as B,D as P}from"./icons-MnSirWYG.js";import{u as V}from"./useOptionalStorage-BER6yRQA.js";import{h as z,j as O}from"./usePlayerStore-CrWhEdqk.js";const F=z(()=>{const h=document.documentElement,l=k(null);w(()=>{l.value=h.getAttribute("data-bs-theme")});const d=V("theme",null),p=()=>d.value?d.value:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",s=u=>{h.setAttribute("data-bs-theme",u),l.value=u,d.value=u},o=()=>{const u=p();s(u==="light"?"dark":"light")},b=f(()=>l.value==="dark"),y=f(()=>l.value==="light");return{currentTheme:l,isDark:b,isLight:y,setTheme:s,toggleTheme:o}}),G={class:"visually-hidden-focusable",href:"#content"},j={class:"navbar bg-primary-dark shadow-sm fixed-top"},q=["aria-label"],J=["href"],K={key:0},Q={class:"dropdown ms-3 d-inline-flex align-items-center"},R={class:"me-2"},W=["aria-label"],X={class:"dropdown-menu dropdown-menu-end"},Y=["href"],Z={key:0},x=["href"],ee=["href"],se={class:"dropdown-item",href:"/docs/",target:"_blank"},oe={class:"dropdown-item",href:"/docs/help/troubleshooting/",target:"_blank"},te=["href"],ae=["aria-label"],ne={id:"main"},le={class:"container"},re={id:"footer"},ie=["innerHTML"],de=["innerHTML"],ue={href:"",target:"_blank"},he=$({__name:"PanelLayout",props:{instanceName:{},userDisplayName:{},homeUrl:{},profileUrl:{},adminUrl:{},logoutUrl:{},showAdmin:{type:Boolean},version:{},platform:{}},setup(h){const l=S(),d=()=>{l.sidebar?document.body.classList.add("has-sidebar"):document.body.classList.remove("has-sidebar")},{toggleTheme:p}=F();return T(()=>l.sidebar,d,{immediate:!0}),O("global"),w(()=>{_(()=>{document.dispatchEvent(new CustomEvent("vue-ready"))})}),(s,o)=>(c(),m(I,null,[e("a",G,a(s.$gettext("Skip to main content")),1),e("header",j,[t(l).sidebar?(c(),m("button",{key:0,id:"navbar-toggle","data-bs-toggle":"offcanvas","data-bs-target":"#sidebar","aria-controls":"sidebar","aria-expanded":"false","aria-label":s.$gettext("Toggle Sidebar"),class:"navbar-toggler d-inline-flex d-lg-none me-3"},[r(i,{icon:t(L),class:"lg"},null,8,["icon"])],8,q)):g("",!0),e("a",{class:"navbar-brand ms-0 me-auto",href:s.homeUrl},[o[1]||(o[1]=n(" Aplus")),o[2]||(o[2]=e("strong",null," Stream",-1)),s.instanceName?(c(),m("small",K,a(s.instanceName),1)):g("",!0)],8,J),o[6]||(o[6]=e("div",{id:"radio-player-controls"},null,-1)),e("div",Q,[e("div",R,a(s.userDisplayName),1),e("button",{"aria-expanded":"false","aria-haspopup":"true",class:"navbar-toggler","aria-label":s.$gettext("Toggle Menu"),"data-bs-toggle":"dropdown",type:"button"},[r(i,{icon:t(N),class:"lg"},null,8,["icon"])],8,W),e("ul",X,[e("li",null,[e("a",{class:"dropdown-item",href:s.homeUrl},[r(i,{icon:t(U)},null,8,["icon"]),n(" "+a(s.$gettext("Dashboard")),1)],8,Y)]),o[3]||(o[3]=e("li",{class:"dropdown-divider"},"   ",-1)),s.showAdmin?(c(),m("li",Z,[e("a",{class:"dropdown-item",href:s.adminUrl},[r(i,{icon:t(C)},null,8,["icon"]),n(" "+a(s.$gettext("System Administration")),1)],8,x)])):g("",!0),e("li",null,[e("a",{class:"dropdown-item",href:s.profileUrl},[r(i,{icon:t(D)},null,8,["icon"]),n(" "+a(s.$gettext("My Account")),1)],8,ee)]),e("li",null,[e("a",{class:"dropdown-item theme-switcher",href:"#",onClick:o[0]||(o[0]=A((...b)=>t(p)&&t(p)(...b),["prevent"]))},[r(i,{icon:t(H)},null,8,["icon"]),n(" "+a(s.$gettext("Switch Theme")),1)])]),o[4]||(o[4]=e("li",{class:"dropdown-divider"},"   ",-1)),e("li",null,[e("a",se,[r(i,{icon:t(E)},null,8,["icon"]),n(" "+a(s.$gettext("Documentation")),1)])]),e("li",null,[e("a",oe,[r(i,{icon:t(B)},null,8,["icon"]),n(" "+a(s.$gettext("Help")),1)])]),o[5]||(o[5]=e("li",{class:"dropdown-divider"},"   ",-1)),e("li",null,[e("a",{class:"dropdown-item",href:s.logoutUrl},[r(i,{icon:t(P)},null,8,["icon"]),n(" "+a(s.$gettext("Sign Out")),1)],8,te)])])])]),t(l).sidebar?(c(),m("nav",{key:0,id:"sidebar",class:"navdrawer offcanvas offcanvas-start",tabindex:"-1","aria-label":s.$gettext("Sidebar")},[v(s.$slots,"sidebar")],8,ae)):g("",!0),e("div",{id:"page-wrapper",class:M([t(l).sidebar?"has-sidebar":""])},[e("main",ne,[e("div",le,[v(s.$slots,"default")])]),e("footer",re,[n(a(s.$gettext("Powered by"))+" ",1),o[7]||(o[7]=e("a",{href:"",target:"_blank"},"Aplus",-1)),o[8]||(o[8]=n(" • ")),e("span",{innerHTML:s.version},null,8,ie),o[9]||(o[9]=n(" • ")),e("span",{innerHTML:s.platform},null,8,de),o[10]||(o[10]=e("br",null,null,-1)),n(" "+a(s.$gettext("Like our software?"))+" ",1),e("a",ue,a(s.$gettext("Donate to support Aplus!")),1)])],2)],64))}});export{he as _,F as u};
