import{_ as p,q as g}from"./icons-Be1GHOkw.js";import{u as I}from"./router-CIKHY1kb.js";import{l as o}from"./lodash-Bdl6ys83.js";import{d as E,a as L,b as a,o as l,F as C,y as x,j as f,f as b,z as m,w,g as y,e as i,t as _,A as N,u as V,B as A,C as $}from"./vue-Cts3TEHg.js";import{r as z}from"./usePlayerStore-BlBABSf7.js";const D={class:"navdrawer-nav"},F={class:"might-overflow"},M={class:"might-overflow"},S=["id"],j={class:"navdrawer-nav"},q={class:"might-overflow"},O=["href","target","title"],P={class:"might-overflow"},Q=E({__name:"SidebarMenu",props:{menu:{}},setup(u){const t=I(),c=e=>typeof e<"u"&&typeof e!="string",d=e=>"items"in e,k=e=>d(e)&&o.some(e.items??[],k)?!0:c(e.url)&&!("params"in e.url)&&e.url.name===t.name,v=e=>[e.class??null,k(e)?"active":""],B=e=>{const r={};return"items"in e?(r["data-bs-toggle"]="collapse",r.href="#sidebar-submenu-"+e.key):r.href=e.url,e.external&&(r.target="_blank"),e.title&&(r.title=e.title),r};return(e,r)=>{const h=L("router-link");return l(),a("ul",D,[(l(!0),a(C,null,x(e.menu.categories,s=>(l(),a("li",{key:s.key,class:"nav-item"},[c(s.url)?(l(),f(h,{key:0,class:m([v(s),"nav-link"]),to:s.url},{default:w(()=>[y(p,{class:"navdrawer-nav-icon",icon:s.icon},null,8,["icon"]),i("span",F,_(s.label),1)]),_:2},1032,["class","to"])):(l(),a("a",N({key:1,ref_for:!0},B(s),{class:["nav-link",v(s)]}),[y(p,{class:"navdrawer-nav-icon",icon:s.icon},null,8,["icon"]),i("span",M,_(s.label),1),s.external?(l(),f(p,{key:0,class:"sm ms-2",icon:V(g),"aria-label":e.$gettext("External")},null,8,["icon","aria-label"])):b("",!0)],16)),s.items?(l(),a("div",{key:2,id:"sidebar-submenu-"+s.key,class:m(["collapse pb-2",k(s)?"show":""])},[i("ul",j,[(l(!0),a(C,null,x(s.items,n=>(l(),a("li",{key:n.key,class:"nav-item"},[c(n.url)?(l(),f(h,{key:0,to:n.url,class:m(["nav-link ps-4 py-2",v(n)]),title:n.title},{default:w(()=>[i("span",q,_(n.label),1)]),_:2},1032,["to","class","title"])):(l(),a("a",{key:1,class:m(["nav-link ps-4 py-2",n.class]),href:n.url,target:n.external?"_blank":"",title:n.title},[i("span",P,_(n.label),1),n.external?(l(),f(p,{key:0,class:"sm ms-2",icon:V(g),"aria-label":e.$gettext("External")},null,8,["icon","aria-label"])):b("",!0)],10,O))]))),128))])],10,S)):b("",!0)]))),128))])}}});function R(u){return z(()=>({categories:o.filter(o.map(o.cloneDeep(A(u.categories)),t=>!o.get(t,"visible",!0)||"items"in t&&(t.items=o.filter(t.items,d=>o.get(d,"visible",!0)),t.items.length===0)?null:t),t=>t!==null)}))}function T(u){return{meta:{remoteUrl:$(u),state:{}},props:t=>t.meta.state}}export{Q as _,R as f,T as p};
