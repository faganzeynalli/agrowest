import{d as v,j as k,h as C,x as w,y as z,u as r,w as l,o as c,G as s,n as i,k as d,e as m,t as u,i as N,z as V,b as E,f as H,g as M,H as F}from"./vue-iE2ul1Tq.js";import{I}from"./InvisibleSubmitButton-CdJXAqzD.js";import{u as P}from"./useSlotsExcept-CgqFDf0x.js";import{u as R,_ as T}from"./useHasModal-Bozw6h3l.js";const _={key:0,class:"alert alert-danger"},A=v({__name:"ModalForm",props:{title:{},size:{default:"lg"},centered:{type:Boolean,default:!1},id:{default:"edit-modal"},loading:{type:Boolean,default:!1},disableSaveButton:{type:Boolean,default:!1},noEnforceFocus:{type:Boolean,default:!1},error:{}},emits:["submit","shown","hidden"],setup(j,{expose:y,emit:g}){const a=g,f=()=>{a("submit")},h=()=>{a("shown")},B=()=>{a("hidden")},p=k("$modal"),{show:S,hide:n}=R(p);return y({show:S,hide:n}),(e,b)=>(c(),C(T,{id:e.id,ref_key:"$modal",ref:p,size:e.size,title:e.title,busy:e.loading,onShown:h,onHidden:B},w({default:l(o=>[e.error!=null?(c(),E("div",_,u(e.error),1)):H("",!0),m("form",{class:"form vue-form",onSubmit:F(f,["prevent"])},[s(e.$slots,"default",i(d(o))),M(I)],32)]),"modal-footer":l(o=>[s(e.$slots,"modal-footer",i(d(o)),()=>[m("button",{class:"btn btn-secondary",type:"button",onClick:b[0]||(b[0]=(...t)=>r(n)&&r(n)(...t))},u(e.$gettext("Close")),1),m("button",{class:V(["btn",e.disableSaveButton?"btn-danger":"btn-primary"]),type:"submit",onClick:f},[s(e.$slots,"save-button-name",{},()=>[N(u(e.$gettext("Save Changes")),1)])],2)])]),_:2},[z(r(P)(["default","modal-footer"]),(o,t)=>({name:t,fn:l($=>[s(e.$slots,t,i(d($)))])}))]),1032,["id","size","title","busy"]))}});export{A as _};
