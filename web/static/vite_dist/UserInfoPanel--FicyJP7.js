import{u as f,d as p}from"./usePlayerStore-KLtIIp-S.js";import{d as v,c as g,b as a,f as c,o as t,u as s,e as d,G as y,H as k,h as b,t as o,F as x,s as A,D as U}from"./vue-B-dHMJBO.js";import{u as $}from"./useRefreshableAsyncState-C1ZBA_bE.js";import{a as S}from"./router-CjgRDsAC.js";const w=["href","title","aria-label"],B=["src"],C=v({__name:"Avatar",props:{url:{},service:{},serviceUrl:{},width:{default:64}},setup(m){const i=m,{$gettext:l}=f(),u=g(()=>l("Avatars are retrieved based on your e-mail address from the %{service} service. Click to manage your %{service} settings.",{service:i.service??""}));return(r,e)=>r.serviceUrl?(t(),a("a",{key:0,href:r.serviceUrl,class:"avatar",target:"_blank",title:u.value,"aria-label":s(l)("Manage Avatar")},[d("img",{src:r.url,style:y({width:r.width+"px",height:"auto"}),alt:""},null,12,B)],8,w)):c("",!0)}}),z={class:"card-header text-bg-primary d-flex flex-wrap align-items-center"},D={class:"flex-fill"},F={key:0,class:"card-title mt-0"},N={key:1,class:"card-title"},V={class:"card-subtitle"},E={key:2,class:"mt-2"},G={key:1,class:"flex-md-shrink-0 mt-3 mt-md-0 buttons"},R=v({__name:"UserInfoPanel",setup(m,{expose:i}){const l=k(),{axios:u}=p(),r=S("/frontend/account/me"),{state:e,execute:h}=$(()=>u.get(r.value).then(n=>n.data),{name:null,email:null,avatar:{url_128:null,service_name:null,service_url:null},roles:[]});return i({reload:h}),(n,H)=>(t(),a("div",z,[s(e).avatar.url_128?(t(),b(C,{key:0,class:"flex-shrink-0 me-3",url:s(e).avatar.url_128,service:s(e).avatar.service_name,"service-url":s(e).avatar.service_url},null,8,["url","service","service-url"])):c("",!0),d("div",D,[s(e).name?(t(),a("h2",F,o(s(e).name),1)):(t(),a("h2",N,o(n.$gettext("AzuraCast User")),1)),d("h3",V,o(s(e).email),1),s(e).roles.length>0?(t(),a("div",E,[(t(!0),a(x,null,A(s(e).roles,_=>(t(),a("span",{key:_.id,class:"badge text-bg-secondary me-2"},o(_.name),1))),128))])):c("",!0)]),l.default?(t(),a("div",G,[U(n.$slots,"default")])):c("",!0)]))}});export{R as _};
