import{d as A}from"./usePlayerStore-BJXDzq-w.js";import{_ as S}from"./FormGroup-DZPf8gKm.js";import{_ as x}from"./FormFile-nZ9a7fD4.js";import{_ as $}from"./Tab-BUAj4Txt.js";import{d as V,a4 as C,L as D,r as f,y as N,U,c as y,h as B,o as w,w as l,e as a,b as M,f as R,g as _,i as k,t as d}from"./vue-B-dHMJBO.js";const L={class:"row g-3"},P={class:"col-md-8"},z={key:0,class:"col-md-4"},E=["src","alt"],F={class:"block-buttons pt-3"},H=V({__name:"Artwork",props:C({artworkSrc:{},newArtUrl:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const t=i,v=D(i,"modelValue"),m=f(t.artworkSrc),o=()=>{m.value=t.artworkSrc+"?"+Math.floor(Date.now()/1e3)};N(U(t,"artworkSrc"),o);const r=f(null),n=y(()=>r.value??m.value),{axios:u}=A(),g=e=>{if(e===null)return;const s=new FileReader;s.addEventListener("load",()=>{r.value=s.result},!1),s.readAsDataURL(e);const c=t.artworkSrc?t.artworkSrc:t.newArtUrl,p=new FormData;p.append("art",e),u.post(c,p).then(h=>{v.value=h.data,o()})},b=()=>{t.artworkSrc?u.delete(t.artworkSrc).then(()=>{o(),r.value=null}):(o(),r.value=null)};return(e,s)=>(w(),B($,{label:e.$gettext("Artwork")},{default:l(()=>[a("div",L,[a("div",P,[_(S,{id:"edit_form_art"},{label:l(()=>[k(d(e.$gettext("Select PNG/JPG artwork file")),1)]),description:l(()=>[k(d(e.$gettext("Artwork must be a minimum size of 1400 x 1400 pixels and a maximum size of 3000 x 3000 pixels for Apple Podcasts.")),1)]),default:l(({id:c})=>[_(x,{id:c,accept:"image/jpeg, image/png",onUploaded:g},null,8,["id"])]),_:1})]),n.value&&n.value!==""?(w(),M("div",z,[a("img",{src:n.value,alt:e.$gettext("Artwork"),class:"rounded img-fluid"},null,8,E),a("div",F,[a("button",{type:"button",class:"btn btn-block btn-danger",onClick:b},d(e.$gettext("Clear Artwork")),1)])])):R("",!0)])]),_:1},8,["label"]))}});export{H as _};
